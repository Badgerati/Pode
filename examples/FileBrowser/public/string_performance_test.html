<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>String Interpolation Performance Test</title>
</head>

<body>
    <h1>String Interpolation Performance Test</h1>
    <button onclick="runTests()">Run Tests</button>
    <div id="results"></div>

    <script>
        function runTests() {
            const results = document.getElementById('results');
            results.innerHTML = '';

            const name = 'John';
            const iterations = 10000000;

            function logResult(name, time) {
                const p = document.createElement('p');
                p.textContent = `${name}: ${time} ms`;
                results.appendChild(p);
            }

            console.time('Template Literals');
            for (let i = 0; i < iterations; i++) {
                let greeting = `Hello, ${name}!`;
            }
            console.timeEnd('Template Literals');
            const templateLiteralsTime = performance.now();

            console.time('String Concatenation');
            for (let i = 0; i < iterations; i++) {
                let greeting = 'Hello, ' + name + '!';
            }
            console.timeEnd('String Concatenation');
            const stringConcatenationTime = performance.now();

            console.time('Array.join()');
            for (let i = 0; i < iterations; i++) {
                let greeting = ['Hello, ', name, '!'].join('');
            }
            console.timeEnd('Array.join()');
            const arrayJoinTime = performance.now();

            console.time('String replace()');
            for (let i = 0; i < iterations; i++) {
                let greetingTemplate = 'Hello, {name}!';
                let greeting = greetingTemplate.replace('{name}', name);
            }
            console.timeEnd('String replace()');

            console.time('Concatenation (+ operator)');
            for (let i = 0; i < iterations; i++) {
                let tableContent = '<tr>' +
                    '<th class="unixMode">--------</th>' +
                    '<th class="user">----</th>' +
                    '<th class="group">-----</th>' +
                    '<th class="dateTime">-------------</th>' +
                    '<th class="dateTime">-------------</th>' +
                    '<th class="size">----</th>' +
                    '<th class="icon"></th>' +
                    '<th class="name">----</th>' +
                    '</tr>';
            }
            console.timeEnd('Concatenation (+ operator)');
            const stringConcatenationplusTime = performance.now();
            console.time('Single String (no + operator)');
            for (let i = 0; i < iterations; i++) {
                let tableContent = '<tr>\
                                   <th class="unixMode">--------</th>\
                                   <th class="user">----</th>\
                                   <th class="group">-----</th>\
                                   <th class="dateTime">-------------</th>\
                                   <th class="dateTime">-------------</th>\
                                   <th class="size">----</th>\
                                   <th class="icon"></th>\
                                   <th class="name">----</th>\
                                   </tr>';
            }
            console.timeEnd('Single String (no + operator)');
            const stringReplaceTime = performance.now();
            const stringNoConcatenationTime = performance.now();

            logResult('Template Literals', templateLiteralsTime);
            logResult('String Concatenation', stringConcatenationTime);
            logResult('Array.join()', arrayJoinTime);
            logResult('String replace()', stringReplaceTime);
            logResult('Concatenation (+ operator)', stringConcatenationplusTime);
            logResult('Single String (no + operator)', stringNoConcatenationTime);

        }
    </script>
</body>

</html>